{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact - Smart Watt Secure</title>
    <link rel="stylesheet" href="{% static 'css/cont.css' %}" />
  </head>
  <body>
    <div class="dashboard-wrapper">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">
          <h2>SWS</h2>
        </div>
        <nav class="sidebar-nav">
          <ul>
            <li><a href="{% url 'dashboard' %}" id="dashboard-link">Dashboard</a></li>
            <li><a href="{% url 'analytics' %}" id="analytics-link">Analytics</a></li>
            <li><a href="{% url 'contact' %}" id="contact-link">Contact</a></li>
          </ul>
        </nav>
      </aside>

      <!-- Main Content -->
      <div class="main-content">
        <header class="main-header">
          <h1>Contact</h1>
          <div class="profile-menu">
            <button class="profile-btn">A</button>
          </div>
        </header>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentPath = window.location.pathname;

        const dashboardLink = document.getElementById("dashboard-link");
        const analyticsLink = document.getElementById("analytics-link");
        const contactLink = document.getElementById("contact-link");

        // Set active class based on current path
        if (currentPath.includes('dashboard')) {
          dashboardLink.classList.add("active");
        } else if (currentPath.includes('analytics')) {
          analyticsLink.classList.add("active");
        } else if (currentPath.includes('contact')) {
          contactLink.classList.add("active");
        }

        // Event delegation for link clicks
        document.querySelector('.sidebar-nav ul').addEventListener('click', function(event) {
          if (event.target.tagName === 'A') {
            // Remove active class from all links
            dashboardLink.classList.remove("active");
            analyticsLink.classList.remove("active");
            contactLink.classList.remove("active");
            // Add active class to the clicked link
            event.target.classList.add("active");
          }
        });
      });
    </script>
  </body>
</html>
