{% extends "base.html" %} {% load static %} {% block content %}
<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact - Smart Watt Secure</title>
    <link rel="stylesheet" href="{% static 'css/cont.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" />
    <link rel="stylesheet" href="{% static 'css/animate.css' %}" />
    <link rel="stylesheet" href="{% static 'css/swiper-bundle.css' %}" />
    <link rel="stylesheet" href="{% static 'css/slick.css' %}" />
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}" />
    <link rel="stylesheet" href="{% static 'css/flaticon_biddut.css' %}" />
    <link rel="stylesheet" href="{% static 'css/font-awesome-pro.css' %}" />
    <link rel="stylesheet" href="{% static 'css/spacing.css' %}" />
    <link rel="stylesheet" href="{% static 'css/custom-animation.css' %}" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}" />
  </head>
  <body>
    <main>
      <!-- contact area start -->
      <div class="tp-contact-3-area pt-120 pb-90 contact-area-upper">
        <div class="container">
          <div class="row">
            <div
              class="col-xl-4 col-lg-4 col-md-6 mb-30 wow tpfadeUp"
              data-wow-duration=".9s"
              data-wow-delay=".3s"
            >
              <div class="tp-contact-3-item text-center">
                <div class="tp-contact-3-icon">
                  <span
                    ><img
                      class="z-index"
                      <img
                      src="{% static 'img/contact/icon-1.png' %}"
                      alt=""
                  /></span>
                </div>
                <div class="tp-contact-3-text">
                  <h5 class="tp-contact-3-title">Visit our place</h5>
                  <a href="#"
                    >88 New South Head Rd, Blue Area <br />
                    Islamabad</a
                  >
                </div>
              </div>
            </div>
            <div
              class="col-xl-4 col-lg-4 col-md-6 mb-30 wow tpfadeUp"
              data-wow-duration=".9s"
              data-wow-delay=".5s"
            >
              <div class="tp-contact-3-item text-center">
                <div class="tp-contact-3-icon">
                  <span
                    ><img
                      class="z-index"
                      src="{% static 'img/contact/icon-2.png' %}"
                      alt=""
                  /></span>
                </div>
                <div class="tp-contact-3-text">
                  <h5 class="tp-contact-3-title">Contact us</h5>
                  <a
                    href="https://template.wphix.com/cdn-cgi/l/email-protection#9dfff4f9f9e8e9ddeaf8ffeef4e9f8b3fef2f0"
                    ><span
                      class="__cf_email__"
                      data-cfemail="32505b5656474672455750415b46571c515d5f"
                      >support@smartwattsecure.com</span
                    ></a
                  >
                  <br />
                  <a href="tel:+60276247296">+92 300 4321765</a>
                </div>
              </div>
            </div>
            <div
              class="col-xl-4 col-lg-4 col-md-6 mb-30 wow tpfadeUp"
              data-wow-duration=".9s"
              data-wow-delay=".7s"
            >
              <div class="tp-contact-3-item text-center">
                <div class="tp-contact-3-icon">
                  <span
                    ><img
                      class="z-index"
                      src="{% static 'img/contact/icon-3.png' %}"
                      alt=""
                  /></span>
                </div>
                <div class="tp-contact-3-text">
                  <h5 class="tp-contact-3-title">Office time</h5>
                  <a href="#"
                    >Five days 8:00 am - 5:00 pm <br />
                    Firday is closed</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- contact area end -->

      <!-- form area start -->
      <div class="tp-contact-form-area pb-130 contact-form-dashboard">
        <div class="container">
          <div class="row">
            <div class="col-xl-12">
              <div class="tp-contact-form-border">
                <h4 class="tp-contact-form-title">Send your message</h4>
                <form id="contact-form">
                  <div class="row">
                    <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-20">
                      <div class="tp-contact-form-input-box">
                        <input
                          type="text"
                          name="name"
                          placeholder="Enter your name"
                        />
                      </div>
                    </div>
                    <div class="col-xl-6 col-lg- col-md-6 col-12 mb-20">
                      <div class="tp-contact-form-input-box">
                        <input
                          type="text"
                          name="email"
                          placeholder="Enter your email"
                        />
                      </div>
                    </div>
                    {% comment %}
                    <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-20">
                      <div class="tp-contact-form-input-box">
                        <input type="text" placeholder="Your website" />
                      </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-20">
                      <div class="tp-contact-form-input-box">
                        <input type="text" placeholder="Your subject" />
                      </div>
                    </div>
                    {% endcomment %}
                    <div class="col-12 mb-20">
                      <div class="tp-contact-form-input-box">
                        <textarea
                          name="message"
                          placeholder="Write your message"
                        ></textarea>
                      </div>
                    </div>
                  </div>

                  <button type="submit" class="tp-btn">
                    <span>SEND message</span>
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- form area end -->
    </main>
    <script src="{% static 'js/vendor/jquery.js' %}"></script>
    <script src="{% static 'js/vendor/waypoints.js' %}"></script>
    <script src="{% static 'js/bootstrap-bundle.js' %}"></script>
    <script src="{% static 'js/swiper-bundle.js' %}"></script>
    <script src="{% static 'js/slick.js' %}"></script>
    <script src="{% static 'js/range-slider.js' %}"></script>
    <script src="{% static 'js/magnific-popup.js' %}"></script>
    <script src="{% static 'js/nice-select.js' %}"></script>
    <script src="{% static 'js/purecounter.js' %}"></script>
    <script src="{% static 'js/wow.js' %}"></script>
    <script src="{% static 'js/isotope-pkgd.js' %}"></script>
    <script src="{% static 'js/jarallax.js' %}"></script>
    <script src="{% static 'js/imagesloaded-pkgd.js' %}"></script>
    <script src="{% static 'js/ajax-form.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      document
        .getElementById("contact-form")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent the default form submission

          // Collect form data
          const formData = new FormData(this); // FormData automatically collects data from form fields

          fetch("/inquiry_view/", {
            method: "POST",
            body: formData, // Send form data
            headers: {
              "X-CSRFToken": getCookie("csrftoken"), // CSRF token for security
            },
          })
            .then((response) => response.json()) // Assuming server responds with JSON
            .then((data) => {
              // Show success message with SweetAlert
              if (data.message) {
                Swal.fire({
                  icon: "success",
                  title: "Success!",
                  text: data.message,
                  confirmButtonText: "OK",
                });
              } else {
                // Show error message with SweetAlert
                Swal.fire({
                  icon: "error",
                  title: "Oops...",
                  text: "Something went wrong. Please try again.",
                  confirmButtonText: "Try Again",
                });
              }
            })
            .catch((error) => {
              console.error("Error:", error);
              // Show error message with SweetAlert in case of fetch error
              Swal.fire({
                icon: "error",
                title: "Error!",
                text: "An error occurred. Please try again.",
                confirmButtonText: "Try Again",
              });
            });
        });

      // Utility function to get CSRF token from cookies
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== "") {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            let cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === name + "=") {
              cookieValue = decodeURIComponent(
                cookie.substring(name.length + 1)
              );
              break;
            }
          }
        }
        return cookieValue;
      }
    </script>
  </body>
</html>
{% endblock %}
